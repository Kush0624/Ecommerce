import{t as m}from"./cartitems-C1cuaIM8.js";import{s as y,p}from"./showToast-BL0cXBbL.js";const S=(o,c)=>{const d=document.querySelector(`#card${o}`).querySelector(".productQuantity");let e=parseInt(d.textContent),t=JSON.parse(localStorage.getItem("mycart"))||[],l=t.find(n=>n.id===o);if(l){e=l.quantity+e,c=c*e,c.toFixed(2);let n={id:o,price:c,quantity:e};n=t.map(a=>a.id===o?n:a),localStorage.setItem("mycart",JSON.stringify(n));return}c*=e,c.toFixed(2),t.push({id:o,price:c,quantity:e}),localStorage.setItem("mycart",JSON.stringify(t)),m()},q=(o,c,u)=>{const e=document.querySelector(`#card${c}`).querySelector(".productQuantity");let t=e.getAttribute("itemvalue")||1;o.target.classList.contains("cartIncrement")&&(t<u?t++:t=u),o.target.classList.contains("cartDecrement")&&t>1&&t--,e.setAttribute("itemvalue",`${t}`),e.textContent=t},g=document.querySelector("#productContainer"),C=document.querySelector("#productTemplate"),f=o=>{if(!o)return!1;o.forEach(c=>{const{brand:u,category:d,description:e,id:t,image:l,name:n,price:a,stock:s}=c,r=document.importNode(C.content,!0);r.querySelector("#cardValue").setAttribute("id",`card${t}`),r.querySelector(".category").textContent=d,r.querySelector(".productName").textContent=n,r.querySelector(".productImage").src=l,r.querySelector(".productImage").alt=n,r.querySelector(".productStock").textContent=s,r.querySelector(".productDescription").textContent=e,r.querySelector(".productPrice").textContent=`₹${a}`,r.querySelector(".productActualPrice").textContent=`₹${a*4}`,r.querySelector(".stockElement").addEventListener("click",i=>{q(i,t,s)}),r.querySelector(".add-to-cart-button").addEventListener("click",i=>{S(t,a),y("add",t)}),g.append(r)})};f(p);m();
