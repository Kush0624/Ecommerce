import{t as s}from"./cartitems-C1cuaIM8.js";import{s as y,p as m}from"./showToast-BL0cXBbL.js";const S=JSON.parse(localStorage.getItem("mycart")),q=a=>{let t=S.find(n=>n.id===a),c=1,o=1;return t&&(c=t.quantity,o=t.price),{quantity:c,price:o}},d=()=>{let a=JSON.parse(localStorage.getItem("mycart")),t=document.querySelector(".productSubTotal"),c=document.querySelector(".productFinalTotal"),n=a.reduce((r,e)=>{let l=parseInt(e.price)||0;return r+l},0);t.textContent=`₹${n}`,c.textContent=`₹${n+50}`};let g=JSON.parse(localStorage.getItem("mycart"));const f=a=>{let t=g.filter(o=>o.id!=a);localStorage.setItem("mycart",JSON.stringify(t)),document.querySelector(`#card${a}`).remove(),y("deleted",a),s(),d()},C=(a,t)=>{let c=m.find(i=>i.id===t),o=JSON.parse(localStorage.getItem("mycart"));const n=document.querySelector(`#card${t}`);let r=o.find(i=>i.id===t),e=1,l=1;a.target.className==="cartIncrement"&&r.quantity<c.stock&&(r.quantity++,r.price=c.price*r.quantity,e=r.quantity,l=r.price),a.target.className==="cartDecrement"&&r.quantity>1&&(r.quantity--,r.price=c.price*r.quantity,e=r.quantity,l=r.price),Number(l.toFixed(2)),n.querySelector(".productQuantity").textContent=e,n.querySelector(".productPrice").textContent=l;let u={id:t,price:l,quantity:e},p=o.filter(i=>i.id===t?u:i);localStorage.setItem("mycart",JSON.stringify(p)),d()},N=document.querySelector("#productCartContainer"),x=document.querySelector("#productCartTemplate");let I=JSON.parse(localStorage.getItem("mycart")),J=m.filter(a=>I.some(t=>t.id===a.id));J.forEach(a=>{const{id:t,category:c,name:o,image:n,price:r}=a;let e=document.importNode(x.content,!0);const l=q(t);e.querySelector("#cardValue").setAttribute("id",`card${t}`),e.querySelector(".category").textContent=c,e.querySelector(".productImage").src=n,e.querySelector(".productName").textContent=o,e.querySelector(".productPrice").textContent=l.price,e.querySelector(".productQuantity").textContent=l.quantity,e.querySelector(".remove-to-cart-button").addEventListener("click",()=>{f(t)}),e.querySelector(".stockElement").addEventListener("click",u=>{C(u,t)}),N.append(e)});s();d();
